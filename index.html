<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task-2</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css1.css">
</head>
<body>
    <div class="main ">
        <div class="mic">
            <h4>View Score</h4>
            <h3>INTERNET WEB TECHNOLOGY<br>
                    SUBJECT CODE:255<h3>
            <H3>Time:0</H3>
        </div>
        <div class="rules">
            <h3>Quiz Practice</h3>
            <h2>Some Rules of this Quiz:</h2>
        </div>
        <div class="inst">
            <h4>1. You will have only 30 seconds per each questions.<br>
                2. Once you select your answer, it can't be undone.<br>
                3. You can't select any option once time goes off.<br>
                4. You can't exit from the Quiz while you're playing.<br>
                5. You'll get points on the basis of your correct answers.</h4>
        </div>
        <div class="start_quiz">
            <h3>
                Start Quiz
            </h3>
        </div>
    </div>
    <div class="quiz-box inactive">
        <h2 class="que_text">Q1.The full form of CSS is:</h2>
        <div class="options">
          <div class="option incorrect disabled">Cascading style sheets<i class="fa fa-times"></i></div>
          <div class="option disabled">Coloured style sheets</div>
          <div class="option disabled">Color and style sheets</div>
          <div class="option correct disabled">None of the ABove<i class="fa fa-check"></i></div>
        </div>
        <div class="quiz-footer">
          <div class="footer-left">
            <span class="count_que">1</span> of <span class="total_que">5</span> Questions
          </div>
          <div class="footer-right">
            <div class="next-btn">Next Question</div>
          </div>
        </div>
      </div>
      <div class="result-box inactive">
        <div class="HI">  Result</div>
        <div class="result">
           <h3 class="total-que">Total Questions : <span>5</span></h3>
           <h3 class="right-ans">Right Answers : <span>3</span></h3>
           <h3 class="wrong-ans">Wrong Answers : <span>2</span></h3>
           <h3 class="percentage">Percentage : <span>60.00%</span></h3>
        </div>
        <div class="result-footer">
           <div class="again-quiz">Again Quiz</div>
           <div class="exit">Exit</div>
        </div>
     </div>
     <script>
        var questions=[
            {
                num:1,
                question:"Q1.The full form of CSS is:",
                answer:"Cascading style sheets",
                options:[
                    "Cascading style sheets",
                    "Coloured style sheets",
                    "Color and style sheets",
                    "None of the ABove"
                ]
            },
            {
                num:2,
                question:"Q2.The full form of CPU is:",
                answer:"central processing unit",
                options:[
                    "central processing unit",
                    "centeral processing unit",
                    "color processing unit",
                    "none of the above"
                ]
            },
            {
                num:3,
                question:"Q3The full form of RAM is:",
                answer:"random acces memory",
                options:[
                    "random acces memory",
                    "read acess memory",
                    "both",
                    "None of the ABove"
                ]
            },
            {
                num:4,
                question:"Q4.The full form of ROM is:",
                answer:"read only memory",
                options:[
                    "read only memory",
                    "read acess memory",
                    "both",
                    "None of the ABove"
                ]
            },
            {
                num:5,
                question:"Q5.The full form of HDD is:",
                answer:"hard disk drive",
                options:[
                    "hard drama drive",
                    "hard disk drive",
                    "both",
                    "None of the ABove"
                ]
            },
        ]
    </script>
    <script>
        const start_btn = document.querySelector(".start_quiz");
const quiz_box = document.querySelector(".quiz-box");
const que_text = quiz_box.querySelector(".que_text");
const options_box = quiz_box.querySelector(".options");
const next_btn = document.querySelector(".next-btn");
const total_q = document.querySelector(".quiz-footer .total_que");
const count_que = document.querySelector(".quiz-footer .count_que");
const result_box = document.querySelector(".result-box");
const main=document.querySelector(".main");
const buttom_res=document.querySelector(".main h4");

const total_que_r = document.querySelector(".total-que span");
const right_ans_r = document.querySelector(".right-ans span");
const wrong_ans_r = document.querySelector(".wrong-ans span");
const percentage = document.querySelector(".percentage span");

const again_quiz = document.querySelector(".result-footer .again-quiz");
const exit = document.querySelector(".result-footer .exit");

const mark_wrong = '<i class="fa fa-times"></i>';
const mark_check = '<i class="fa fa-check"></i>';


start_btn.onclick = () => {
  quiz_box.classList.remove("inactive");
  start_btn.classList.add("inactive");
  main.classList.add("inactive");

}
buttom_res.onclick = () => {
    result_box.classList.remove("inactive");
    start_btn.classList.add("inactive");
    main.classList.add("inactive");
  
  }

total_q.innerText = questions.length;
total_que_r.innerText = questions.length;

var que_index = 0;
var right_answers = 0;
var wrong_answers = 0;
count_que.innerText = que_index + 1;
ShowQuestion(que_index);

function ShowQuestion(q_index) {
  que_text.innerText = questions[q_index].num + ". " + questions[q_index].question;
  var option_statement = "";
  for (var i = 0; i < questions[q_index].options.length; i++) {
    option_statement += <div class="option">${questions[q_index].options[i]}</div>;
  }

  options_box.innerHTML = option_statement;

  var AllOptions = options_box.querySelectorAll(".option");

  for (var j = 0; j < AllOptions.length; j++) {
    AllOptions[j].setAttribute("onclick", "UserAnswer(this)");
  }
  next_btn.classList.add("inactive");
}


next_btn.onclick = () => {
  que_index++;

  if (questions.length > que_index) {
    count_que.innerText = que_index + 1;
    ShowQuestion(que_index);
  } else {
    console.log("Questions Complete");
    main.classList.add("inactive");
    result_box.classList.remove("inactive");
    right_ans_r.innerText = right_answers;
    wrong_ans_r.innerText = wrong_answers;
    percentage.innerText = ((right_answers * 100) / questions.length).toFixed(2) + "%";


  }

  if (questions.length - 1 == que_index) {
    next_btn.innerText = "Finish";
  }
}

function UserAnswer(answer) {
  let userAns = answer.innerText;
  let correctAns = questions[que_index].answer;
  var AllOptions2 = options_box.querySelectorAll(".option");

  next_btn.classList.remove("inactive");
  if (userAns == correctAns) {
    console.log("%c Right Answer", "color:green");
    answer.classList.add("correct");
    answer.insertAdjacentHTML("beforeend", mark_check);
    right_answers++;
  } else {

    console.log("%c Wrong Answer", "color:red");
    answer.classList.add("incorrect");
    answer.insertAdjacentHTML("beforeend", mark_wrong);
    wrong_answers++;

    for (var i = 0; i < AllOptions2.length; i++) {
      if (AllOptions2[i].innerText == correctAns) {
        AllOptions2[i].classList.add("correct");
        AllOptions2[i].insertAdjacentHTML("beforeend", mark_check);
      }
    }
  }
  if(que_index==4)
  {
    quiz_box.classList.add("inactive");
    result_box.classList.remove("inactive");
  }

  for (var j = 0; j < AllOptions2.length; j++) {
    AllOptions2[j].classList.add("disabled");
  }

}

again_quiz.onclick = () => {
  quiz_box.classList.remove("inactive");
  result_box.classList.add("inactive");

  reset();

}

exit.onclick = () => {
  start_btn.classList.remove("inactive");
  result_box.classList.add("inactive");

  reset();
}


function reset() {
  que_index = 0;
  right_answers = 0;
  wrong_answers = 0;
  next_btn.innerText = "Next Question";
  count_que.innerText = que_index + 1;
  ShowQuestion(que_index);
}
    </script>
   <!--<script src="quiz1.js"></script> --> 
</body>
</html>
